<!DOCTYPE html>
<html lang="jp">

<head>
  <meta charset="UTF-8">
  <title>Timinute</title>
  <link rel="stylesheet" href="../css/header.css">
  <link rel="stylesheet" href="../css/RegistrationResult.css">
</head>

<body>

  <header class="header">
    <div class="logo-container">
      <img src="../image/Timinute_logo.png" alt="画像">
    </div>
    <div class="welcome-text">
      <p>お疲れ様です！<br>管理者さん</p>
    </div>
    <div class="buttons">
      <a href="userhome.html"><button class="headerbtn">HOME</button></a>
      <a href="login.html"><button class="headerbtn">Logout</button></a>
    </div>
  </header>

  <div class="whole">
    <h1 id="clockInTime">時間はいる</h1>

    <h2>休憩を終了しました</h2>

    <button class="btn" type="button" id="EndBtn">もどる</button></a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // URLからタイムスタンプパラメータを取得
      const urlParams = new URLSearchParams(window.location.search);
      let timestamp = urlParams.get('timestamp');

      // テスト用: タイムスタンプがない場合は現在時刻を使用
      if (!timestamp) {
        timestamp = new Date().toISOString();
        console.log('テストモード: 現在時刻を使用します');
      }

      // タイムスタンプを日本時間の時刻文字列に変換
      const date = new Date(timestamp);
      const options = {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        timeZone: 'Asia/Tokyo'
      };
      const formattedTime = new Intl.DateTimeFormat('ja-JP', options).format(date);

      // h1要素のテキストを変更
      document.getElementById('clockInTime').textContent = formattedTime;

      // 戻るボタンのイベントリスナーを設定
      document.getElementById('EndBtn').addEventListener('click', function () {
        window.location.href = 'AttendanceRegistration.html';
      });
    });
  </script>

</body>

</html>